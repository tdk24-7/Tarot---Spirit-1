"use strict";(self.webpackChunkclient=self.webpackChunkclient||[]).push([[974],{3945:(e,t,s)=>{s.d(t,{A:()=>m});var a=s(5043),r=s(3003),i=s(6462),n=s(1094),l=s(6560),o=s(579);const c=e=>{let{isOpen:t,toggleSidebar:s}=e;const a=(0,i.zy)();return(0,o.jsxs)("div",{className:"fixed left-0 top-0 h-screen bg-gray-800 text-gray-200 transition-all duration-300 z-20 \n                     "+(t?"w-64":"w-16"),children:[(0,o.jsxs)("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-700",children:[t?(0,o.jsx)("h1",{className:"text-xl font-bold text-white",children:"Tarot Admin"}):(0,o.jsx)("span",{className:"text-xl font-bold text-white",children:"TA"}),(0,o.jsx)("button",{onClick:s,className:"text-gray-300 hover:bg-gray-700 rounded-full p-1",children:(0,o.jsx)(l.A,{name:t?"chevron-left":"chevron-right",size:24})})]}),(0,o.jsx)("nav",{className:"mt-4",children:(0,o.jsx)("ul",{children:[{title:"Dashboard",icon:"dashboard",path:"/admin/dashboard"},{title:"User Management",icon:"people",path:"/admin/users"},{title:"Tarot Cards",icon:"cards",path:"/admin/tarot"},{title:"Premium Services",icon:"star",path:"/admin/premium"},{title:"Forum Management",icon:"forum",path:"/admin/forum"},{title:"Reports",icon:"alert-circle",path:"/admin/reports"},{title:"Analytics",icon:"bar-chart-2",path:"/admin/analytics"},{title:"System Settings",icon:"settings",path:"/admin/settings"}].map((e=>(0,o.jsx)("li",{children:(0,o.jsxs)(i.N_,{to:e.path,className:"flex items-center py-3 px-4 text-gray-300 "+(a.pathname===e.path?"bg-purple-600 text-white":"hover:bg-gray-700 hover:text-white"),children:[(0,o.jsx)(l.A,{name:e.icon,size:20}),t&&(0,o.jsx)("span",{className:"ml-4",children:e.title})]})},e.title)))})})]})},d=e=>{var t;let{isOpen:s}=e;const a=(0,r.wA)(),c=(0,i.Zp)(),{user:d}=(0,r.d4)((e=>e.auth));return(0,o.jsx)("header",{className:"fixed top-0 right-0 h-16 bg-gray-800 border-b border-gray-700 z-10 transition-all\n                        "+(s?"left-64":"left-16"),children:(0,o.jsxs)("div",{className:"h-full flex items-center justify-between px-6",children:[(0,o.jsx)("div",{className:"text-xl font-semibold text-gray-100",children:"Admin Panel"}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"relative mr-4",children:(0,o.jsx)("button",{className:"p-2 text-gray-300 hover:bg-gray-700 rounded-full",children:(0,o.jsx)(l.A,{name:"notifications",size:20})})}),(0,o.jsxs)("div",{className:"flex items-center",children:[(0,o.jsx)("div",{className:"w-8 h-8 rounded-full bg-purple-600 flex items-center justify-center text-white mr-2",children:(null===d||void 0===d||null===(t=d.name)||void 0===t?void 0:t.charAt(0).toUpperCase())||"A"}),(0,o.jsxs)("div",{className:"hidden md:block mr-4",children:[(0,o.jsx)("div",{className:"text-sm font-medium text-gray-200",children:(null===d||void 0===d?void 0:d.name)||"Admin"}),(0,o.jsx)("div",{className:"text-xs text-gray-400",children:(null===d||void 0===d?void 0:d.email)||"admin@example.com"})]}),(0,o.jsx)("button",{onClick:()=>{a((0,n.y4)()),c("/login")},className:"text-gray-400 hover:text-red-500",children:(0,o.jsx)(l.A,{name:"logout",size:20})})]})]})]})})},m=e=>{let{children:t}=e;const[s,n]=(0,a.useState)(!0),{isAuthenticated:l,user:m}=(0,r.d4)((e=>e.auth)),x=(0,i.Zp)();(0,a.useEffect)((()=>{l&&(null!==m&&void 0!==m&&m.isAdmin||"admin"===(null===m||void 0===m?void 0:m.role))||x("/login")}),[l,m,x]);return(0,o.jsxs)("div",{className:"min-h-screen bg-gray-900 text-gray-200",children:[(0,o.jsx)(c,{isOpen:s,toggleSidebar:()=>{n(!s)}}),(0,o.jsx)(d,{isOpen:s}),(0,o.jsx)("main",{className:"pt-16 transition-all "+(s?"ml-64":"ml-16"),children:(0,o.jsx)("div",{className:"p-6",children:t})})]})}},9974:(e,t,s)=>{s.r(t),s.d(t,{default:()=>j});var a=s(5043),r=s(6462),i=s(3945),n=s(1839),l=s(7709),o=s(5766),c=s(6560),d=s(746),m=s(6427),x=s(4653),h=s(579);const u=[{id:1,title:"Understanding the Symbolism of The Fool",content:"The Fool is often misunderstood as someone who lacks wisdom, but I believe the card represents...",author:{id:101,name:"Nguyen Van A",avatar:"",isPremium:!0},category:"Major Arcana",status:"published",publishedAt:"2023-11-10T15:30:00",commentsCount:12,likesCount:28,viewsCount:152,reportedCount:0,tags:["The Fool","Symbolism","Major Arcana","Beginnings"]},{id:2,title:"Celtic Cross Spread Tutorial for Beginners",content:"The Celtic Cross spread might seem intimidating at first, but it's actually quite straightforward...",author:{id:102,name:"Tran Thi B",avatar:"",isPremium:!1},category:"Spreads",status:"published",publishedAt:"2023-11-09T10:15:00",commentsCount:24,likesCount:45,viewsCount:310,reportedCount:0,tags:["Celtic Cross","Tutorial","Spreads","Beginners"]},{id:3,title:"How Tarot Changed My Life",content:"I was skeptical at first, but after my first reading, I started to see patterns in my life...",author:{id:103,name:"Le Van C",avatar:"",isPremium:!0},category:"Personal Stories",status:"published",publishedAt:"2023-11-08T09:45:00",commentsCount:16,likesCount:39,viewsCount:205,reportedCount:0,tags:["Personal Growth","Transformation","Testimonial"]},{id:4,title:"The Connection Between Tarot and Psychology",content:"Jung's concept of archetypes bears striking similarities to the Major Arcana...",author:{id:104,name:"Pham Van D",avatar:"",isPremium:!1},category:"Theory",status:"pending",publishedAt:null,commentsCount:0,likesCount:0,viewsCount:0,reportedCount:0,tags:["Psychology","Jung","Archetypes","Major Arcana"]},{id:5,title:"Inappropriate Content - Please Remove",content:"This post contains offensive language and spam links to external websites selling fake products.",author:{id:105,name:"Hoang Thi E",avatar:"",isPremium:!1},category:"General",status:"reported",publishedAt:"2023-11-05T14:20:00",commentsCount:3,likesCount:1,viewsCount:52,reportedCount:5,reports:[{userId:101,reason:"Spam",timestamp:"2023-11-05T15:10:00"},{userId:102,reason:"Inappropriate Content",timestamp:"2023-11-05T16:05:00"},{userId:103,reason:"Misleading",timestamp:"2023-11-05T18:30:00"},{userId:106,reason:"Spam",timestamp:"2023-11-06T09:15:00"},{userId:107,reason:"Offensive Language",timestamp:"2023-11-06T10:45:00"}],tags:["General"]},{id:6,title:"The Hidden Meaning of Pentacles",content:"Pentacles represent more than just material wealth. They symbolize the physical world...",author:{id:106,name:"Vo Tan F",avatar:"",isPremium:!0},category:"Minor Arcana",status:"published",publishedAt:"2023-11-04T11:10:00",commentsCount:9,likesCount:21,viewsCount:178,reportedCount:0,tags:["Pentacles","Minor Arcana","Symbolism","Earth Element"]},{id:7,title:"Tarot Reading Ethics - Boundaries and Responsibilities",content:"As readers, we have a responsibility to our clients. Here are some ethical guidelines I follow...",author:{id:107,name:"Do Thi G",avatar:"",isPremium:!1},category:"Ethics",status:"pending",publishedAt:null,commentsCount:0,likesCount:0,viewsCount:0,reportedCount:0,tags:["Ethics","Reading","Guidelines","Professional Practice"]},{id:8,title:"Comparing Different Tarot Decks - Which Is Best for Beginners?",content:"With so many decks available, choosing your first one can be overwhelming...",author:{id:108,name:"Duong Van H",avatar:"",isPremium:!0},category:"Decks",status:"published",publishedAt:"2023-11-02T16:40:00",commentsCount:31,likesCount:52,viewsCount:412,reportedCount:0,tags:["Decks","Rider-Waite","Beginners","Comparison"]}],g=e=>{let{isOpen:t,onClose:s,post:r,onUpdate:i}=e;const[o,d]=(0,a.useState)("content"),[u,g]=(0,a.useState)(!1);if(!t||!r)return null;const p=()=>{const[e,t]=(0,a.useState)({title:r.title,content:r.content,category:r.category,status:r.status,tags:r.tags.join(", ")});(0,a.useEffect)((()=>{t({title:r.title,content:r.content,category:r.category,status:r.status,tags:r.tags.join(", ")}),g(!1)}),[r]);const s=e=>{const{name:s,value:a}=e.target;t((e=>({...e,[s]:a})))};return(0,h.jsx)("form",{onSubmit:t=>{t.preventDefault();const s={...r,title:e.title,content:e.content,category:e.category,status:e.status,tags:e.tags.split(",").map((e=>e.trim())).filter((e=>e))};i(s),g(!1)},className:"text-gray-300",children:u?(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Title"}),(0,h.jsx)("input",{type:"text",name:"title",value:e.title,onChange:s,className:"w-full p-2 border border-gray-600 bg-gray-700 text-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Content"}),(0,h.jsx)("textarea",{name:"content",value:e.content,onChange:s,rows:8,className:"w-full p-2 border border-gray-600 bg-gray-700 text-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),(0,h.jsxs)("select",{name:"category",value:e.category,onChange:s,className:"w-full p-2 border border-gray-600 bg-gray-700 text-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,h.jsx)("option",{value:"Major Arcana",children:"Major Arcana"}),(0,h.jsx)("option",{value:"Minor Arcana",children:"Minor Arcana"}),(0,h.jsx)("option",{value:"Spreads",children:"Spreads"}),(0,h.jsx)("option",{value:"Personal Stories",children:"Personal Stories"}),(0,h.jsx)("option",{value:"Theory",children:"Theory"}),(0,h.jsx)("option",{value:"Ethics",children:"Ethics"}),(0,h.jsx)("option",{value:"Decks",children:"Decks"}),(0,h.jsx)("option",{value:"General",children:"General"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),(0,h.jsxs)("select",{name:"status",value:e.status,onChange:s,className:"w-full p-2 border border-gray-600 bg-gray-700 text-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,h.jsx)("option",{value:"published",children:"Published"}),(0,h.jsx)("option",{value:"pending",children:"Pending"}),(0,h.jsx)("option",{value:"reported",children:"Reported"}),(0,h.jsx)("option",{value:"archived",children:"Archived"})]})]})]}),(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("label",{className:"block text-sm font-medium text-gray-300 mb-1",children:"Tags (comma-separated)"}),(0,h.jsx)("input",{type:"text",name:"tags",value:e.tags,onChange:e=>{const s=e.target.value;t((e=>({...e,tags:s})))},className:"w-full p-2 border border-gray-600 bg-gray-700 text-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,h.jsxs)("div",{className:"flex justify-end",children:[(0,h.jsx)(n.A,{variant:"outlineDark",onClick:()=>g(!1),className:"mr-2",children:"Cancel"}),(0,h.jsx)(n.A,{type:"submit",variant:"solidDark",children:"Save Changes"})]})]}):(0,h.jsxs)(h.Fragment,{children:[(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-gray-100 mb-1",children:"Title"}),(0,h.jsx)("p",{className:"text-gray-400 bg-gray-700 p-2 rounded",children:r.title})]}),(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-gray-100 mb-1",children:"Author"}),(0,h.jsxs)("p",{className:"text-gray-400 bg-gray-700 p-2 rounded",children:[r.author.name," (",r.author.isPremium?"Premium":"Standard",")"]})]}),(0,h.jsxs)("div",{className:"mb-4",children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-gray-100 mb-1",children:"Content"}),(0,h.jsx)("p",{className:"text-gray-400 bg-gray-700 p-2 rounded whitespace-pre-wrap h-64 overflow-y-auto",children:r.content})]}),(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-gray-100 mb-1",children:"Category"}),(0,h.jsx)("p",{className:"text-gray-400 bg-gray-700 p-2 rounded",children:r.category})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-gray-100 mb-1",children:"Status"}),(0,h.jsx)("p",{className:"text-gray-400 bg-gray-700 p-2 rounded capitalize",children:r.status})]})]}),(0,h.jsxs)("div",{className:"mb-6",children:[(0,h.jsx)("h4",{className:"text-lg font-semibold text-gray-100 mb-1",children:"Tags"}),(0,h.jsx)("div",{className:"flex flex-wrap gap-2",children:r.tags.map((e=>(0,h.jsx)("span",{className:"bg-gray-600 text-gray-200 px-2 py-1 rounded-full text-sm",children:e},e)))})]}),(0,h.jsx)(n.A,{variant:"solidDark",onClick:()=>g(!0),className:"mr-2",children:"Edit Post"})]})})},y=()=>{const e=[{id:1,author:"User A",text:"Great insights!",date:"2023-11-10"},{id:2,author:"User B",text:"I disagree on one point...",date:"2023-11-11"}];return(0,h.jsxs)("div",{className:"text-gray-300",children:[(0,h.jsxs)("h4",{className:"text-lg font-semibold text-gray-100 mb-3",children:["Comments (",e.length,")"]}),0===e.length&&(0,h.jsx)("p",{className:"text-gray-500",children:"No comments yet."}),(0,h.jsx)("ul",{className:"space-y-3",children:e.map((e=>(0,h.jsxs)("li",{className:"bg-gray-700 p-3 rounded-lg shadow",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,h.jsx)("span",{className:"font-semibold text-indigo-400",children:e.author}),(0,h.jsx)("span",{className:"text-xs text-gray-500",children:e.date})]}),(0,h.jsx)("p",{className:"text-gray-300",children:e.text}),(0,h.jsxs)("div",{className:"mt-2 flex space-x-2",children:[(0,h.jsxs)(n.A,{variant:"textDark",size:"sm",onClick:()=>alert("Reply (not implemented)"),children:[(0,h.jsx)(c.A,{name:"reply",className:"mr-1"})," Reply"]}),(0,h.jsxs)(n.A,{variant:"textDark",size:"sm",onClick:()=>alert("Delete (not implemented)"),className:"text-red-500 hover:text-red-400",children:[(0,h.jsx)(c.A,{name:"trash",className:"mr-1"})," Delete"]})]})]},e.id)))})]})},j=()=>{const e=r.reports||[];return(0,h.jsxs)("div",{className:"text-gray-300",children:[(0,h.jsxs)("h4",{className:"text-lg font-semibold text-gray-100 mb-3",children:["Reports (",e.length,")"]}),0===e.length?(0,h.jsx)("p",{className:"text-gray-500",children:"No reports for this post."}):(0,h.jsx)("ul",{className:"space-y-3",children:e.map(((e,t)=>(0,h.jsxs)("li",{className:"bg-gray-700 p-3 rounded-lg shadow",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center mb-1",children:[(0,h.jsxs)("span",{className:"font-semibold text-indigo-400",children:["User ID: ",e.userId]}),(0,h.jsx)("span",{className:"text-xs text-gray-500",children:e.timestamp?(0,m.GP)((0,x.H)(e.timestamp),"PPpp"):"N/A"})]}),(0,h.jsxs)("p",{className:"text-gray-300",children:[(0,h.jsx)("span",{className:"font-medium text-gray-400",children:"Reason:"})," ",e.reason]}),(0,h.jsxs)("div",{className:"mt-2 flex space-x-2",children:[(0,h.jsxs)(n.A,{variant:"textDark",size:"sm",onClick:()=>alert("View User (not implemented)"),children:[(0,h.jsx)(c.A,{name:"user",className:"mr-1"})," View User"]}),(0,h.jsxs)(n.A,{variant:"textDark",size:"sm",onClick:()=>alert("Dismiss Report (not implemented)"),children:[(0,h.jsx)(c.A,{name:"checkCircle",className:"mr-1"})," Dismiss"]})]})]},t)))}),(0,h.jsxs)("div",{className:"mt-6 flex justify-end space-x-2",children:[(0,h.jsxs)(n.A,{variant:"solidDark",onClick:()=>alert("Ban User (not implemented)"),className:"bg-red-600 hover:bg-red-700",children:[(0,h.jsx)(c.A,{name:"ban",className:"mr-1"})," Ban User (Poster)"]}),(0,h.jsxs)(n.A,{variant:"outlineDark",onClick:()=>alert("Archive Post (not implemented)"),children:[(0,h.jsx)(c.A,{name:"archive",className:"mr-1"})," Archive Post"]})]})]})};return(0,h.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50 transition-opacity duration-300 "+(t?"opacity-100":"opacity-0 pointer-events-none"),children:(0,h.jsxs)(l.A,{className:"bg-gray-800 w-full max-w-3xl max-h-[90vh] flex flex-col shadow-2xl rounded-lg border border-gray-700",children:[(0,h.jsxs)("div",{className:"flex justify-between items-center p-4 border-b border-gray-700",children:[(0,h.jsxs)("h3",{className:"text-xl font-semibold text-gray-100",children:["Post Details: ",r.title.substring(0,30),r.title.length>30&&"..."]}),(0,h.jsx)(n.A,{variant:"textDark",onClick:s,className:"text-gray-400 hover:text-gray-200",children:(0,h.jsx)(c.A,{name:"close",size:"lg"})})]}),(0,h.jsx)("div",{className:"p-4 border-b border-gray-700",children:(0,h.jsx)("div",{className:"flex space-x-1",children:["content","comments","reports"].map((e=>(0,h.jsxs)(n.A,{variant:o===e?"solidDark":"outlineDark",onClick:()=>d(e),className:"capitalize px-4 py-2",children:[e," ","comments"===e?`(${r.commentsCount||0})`:"reports"===e?`(${r.reportedCount||0})`:""]},e)))})}),(0,h.jsxs)("div",{className:"p-6 overflow-y-auto flex-grow scrollbar-thin scrollbar-thumb-gray-600 scrollbar-track-gray-800",children:["content"===o&&(0,h.jsx)(p,{}),"comments"===o&&(0,h.jsx)(y,{}),"reports"===o&&(0,h.jsx)(j,{})]}),(0,h.jsx)("div",{className:"p-4 border-t border-gray-700 flex justify-end",children:(0,h.jsx)(n.A,{variant:"outlineDark",onClick:s,children:"Close"})})]})})},p=e=>{let{filters:t,setFilters:s,onApplyFilters:a}=e;const r=(e,t)=>{s((s=>({...s,[e]:t})))};return(0,h.jsxs)(l.A,{className:"mb-6 bg-gray-800 p-4 rounded-lg shadow border border-gray-700",children:[(0,h.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 items-end",children:[(0,h.jsxs)("div",{className:"col-span-1 md:col-span-2 lg:col-span-1",children:[(0,h.jsx)("label",{htmlFor:"searchTerm",className:"block text-sm font-medium text-gray-300 mb-1",children:"Search Posts"}),(0,h.jsx)(o.A,{value:t.searchTerm,onChange:e=>r("searchTerm",e),placeholder:"Search by title, content...",className:"bg-gray-700 text-gray-200 border-gray-600 placeholder-gray-500"})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-300 mb-1",children:"Category"}),(0,h.jsxs)("select",{id:"category",value:t.category,onChange:e=>r("category",e.target.value),className:"w-full p-2 border border-gray-600 bg-gray-700 text-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,h.jsx)("option",{value:"",children:"All Categories"}),(0,h.jsx)("option",{value:"Major Arcana",children:"Major Arcana"}),(0,h.jsx)("option",{value:"Minor Arcana",children:"Minor Arcana"}),(0,h.jsx)("option",{value:"Spreads",children:"Spreads"}),(0,h.jsx)("option",{value:"Personal Stories",children:"Personal Stories"}),(0,h.jsx)("option",{value:"Theory",children:"Theory"}),(0,h.jsx)("option",{value:"Ethics",children:"Ethics"}),(0,h.jsx)("option",{value:"Decks",children:"Decks"}),(0,h.jsx)("option",{value:"General",children:"General"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-300 mb-1",children:"Status"}),(0,h.jsxs)("select",{id:"status",value:t.status,onChange:e=>r("status",e.target.value),className:"w-full p-2 border border-gray-600 bg-gray-700 text-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,h.jsx)("option",{value:"",children:"All Statuses"}),(0,h.jsx)("option",{value:"published",children:"Published"}),(0,h.jsx)("option",{value:"pending",children:"Pending Review"}),(0,h.jsx)("option",{value:"reported",children:"Reported"}),(0,h.jsx)("option",{value:"archived",children:"Archived"})]})]}),(0,h.jsxs)("div",{children:[(0,h.jsx)("label",{htmlFor:"sortBy",className:"block text-sm font-medium text-gray-300 mb-1",children:"Sort By"}),(0,h.jsxs)("select",{id:"sortBy",value:t.sortBy,onChange:e=>r("sortBy",e.target.value),className:"w-full p-2 border border-gray-600 bg-gray-700 text-gray-200 rounded focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,h.jsx)("option",{value:"publishedAt_desc",children:"Newest First"}),(0,h.jsx)("option",{value:"publishedAt_asc",children:"Oldest First"}),(0,h.jsx)("option",{value:"commentsCount_desc",children:"Most Comments"}),(0,h.jsx)("option",{value:"likesCount_desc",children:"Most Likes"}),(0,h.jsx)("option",{value:"viewsCount_desc",children:"Most Views"}),(0,h.jsx)("option",{value:"reportedCount_desc",children:"Most Reports"})]})]})]}),(0,h.jsxs)("div",{className:"mt-4 flex justify-end space-x-2",children:[(0,h.jsx)(n.A,{variant:"outlineDark",onClick:()=>{s({searchTerm:"",category:"",status:"",author:"",sortBy:"publishedAt_desc"}),a({searchTerm:"",category:"",status:"",author:"",sortBy:"publishedAt_desc"})},children:"Reset Filters"}),(0,h.jsx)(n.A,{variant:"solidDark",onClick:()=>a(t),children:"Apply Filters"})]})]})},y=e=>{let{status:t}=e,s="bg-gray-500 text-gray-100",a="info";switch(t.toLowerCase()){case"published":s="bg-green-600 text-green-100",a="checkCircle";break;case"pending":s="bg-yellow-500 text-yellow-100",a="clock";break;case"reported":s="bg-red-600 text-red-100",a="flag";break;case"archived":s="bg-gray-600 text-gray-200",a="archive"}return(0,h.jsxs)("span",{className:`px-2 py-1 inline-flex items-center text-xs font-semibold rounded-full ${s}`,children:[(0,h.jsx)(c.A,{name:a,className:"mr-1.5",size:"sm"}),t.charAt(0).toUpperCase()+t.slice(1)]})},j=()=>{const e=(0,r.Zp)(),[t,s]=(0,a.useState)([]),[o,j]=(0,a.useState)([]),[b,v]=(0,a.useState)(!0),[f,N]=(0,a.useState)(null),[C,A]=(0,a.useState)(null),[w,k]=(0,a.useState)(!1),[T,P]=(0,a.useState)({searchTerm:"",category:"",status:"",sortBy:"publishedAt_desc"}),[D,S]=(0,a.useState)(1);(0,a.useEffect)((()=>{v(!0),setTimeout((()=>{s(u),j(u),v(!1)}),1e3)}),[]);const M=10*D,z=M-10,B=o.slice(z,M),F=Math.ceil(o.length/10),R=e=>S(e),I=e=>{A(e),k(!0)},E=()=>{k(!1),A(null)};return f?(0,h.jsxs)("div",{className:"p-6 text-red-500 bg-red-100 border border-red-400 rounded",children:["Error: ",f]}):(0,h.jsx)(i.A,{children:(0,h.jsxs)("div",{className:"p-6 bg-gray-900 min-h-screen",children:[(0,h.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,h.jsx)("h1",{className:"text-3xl font-semibold text-gray-100",children:"Forum Management"})}),(0,h.jsx)(p,{filters:T,setFilters:P,onApplyFilters:e=>{v(!0);let s=[...t];if(e.searchTerm){const t=e.searchTerm.toLowerCase();s=s.filter((e=>e.title.toLowerCase().includes(t)||e.content.toLowerCase().includes(t)||e.author.name.toLowerCase().includes(t)))}e.category&&(s=s.filter((t=>t.category===e.category))),e.status&&(s=s.filter((t=>t.status===e.status)));const[a,r]=e.sortBy.split("_");s.sort(((e,t)=>{let s=e[a],i=t[a];return"publishedAt"===a?(s=e.publishedAt?(0,x.H)(e.publishedAt):new Date(0),i=t.publishedAt?(0,x.H)(t.publishedAt):new Date(0)):"string"===typeof s&&(s=s.toLowerCase(),i=i.toLowerCase()),s<i?"asc"===r?-1:1:s>i?"asc"===r?1:-1:0})),j(s),S(1),v(!1)}}),b?(0,h.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,h.jsx)(d.A,{size:"xl",color:"text-indigo-400"})}):(0,h.jsxs)(h.Fragment,{children:[0===B.length?(0,h.jsxs)(l.A,{className:"bg-gray-800 p-6 rounded-lg shadow text-center border border-gray-700",children:[(0,h.jsx)(c.A,{name:"searchX",size:"2xl",className:"text-gray-500 mx-auto mb-4"}),(0,h.jsx)("h3",{className:"text-xl font-semibold text-gray-300 mb-2",children:"No Posts Found"}),(0,h.jsx)("p",{className:"text-gray-500",children:"Try adjusting your search filters or check back later."})]}):(0,h.jsx)(l.A,{className:"bg-gray-800 shadow-xl rounded-lg overflow-hidden border border-gray-700",children:(0,h.jsx)("div",{className:"overflow-x-auto",children:(0,h.jsxs)("table",{className:"min-w-full divide-y divide-gray-700",children:[(0,h.jsx)("thead",{className:"bg-gray-750",children:(0,h.jsxs)("tr",{children:[(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Title"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Author"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Category"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider hidden md:table-cell",children:"Published"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Status"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider hidden sm:table-cell",children:"Stats (C/L/V/R)"}),(0,h.jsx)("th",{scope:"col",className:"px-6 py-3 text-center text-xs font-medium text-gray-400 uppercase tracking-wider",children:"Actions"})]})}),(0,h.jsx)("tbody",{className:"bg-gray-800 divide-y divide-gray-700",children:B.map((a=>(0,h.jsxs)("tr",{className:"hover:bg-gray-750 transition-colors duration-150",children:[(0,h.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,h.jsxs)("div",{className:"text-sm font-medium text-indigo-400 hover:text-indigo-300 cursor-pointer",onClick:()=>I(a),children:[a.title.substring(0,40),a.title.length>40&&"..."]}),(0,h.jsxs)("div",{className:"text-xs text-gray-500",children:["ID: ",a.id]})]}),(0,h.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,h.jsx)("div",{className:"text-sm text-gray-300",children:a.author.name}),(0,h.jsx)("div",{className:"text-xs "+(a.author.isPremium?"text-yellow-400":"text-gray-500"),children:a.author.isPremium?"Premium User":"Standard User"})]}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400",children:a.category}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400 hidden md:table-cell",children:a.publishedAt?(0,m.GP)((0,x.H)(a.publishedAt),"MMM d, yyyy HH:mm"):"-"}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,h.jsx)(y,{status:a.status})}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-400 text-center hidden sm:table-cell",children:`${a.commentsCount}/${a.likesCount}/${a.viewsCount}/${a.reportedCount}`}),(0,h.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-center text-sm font-medium",children:(0,h.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,h.jsx)(n.A,{variant:"textDark",size:"sm",onClick:()=>I(a),title:"View Details",children:(0,h.jsx)(c.A,{name:"eye"})}),(0,h.jsx)(n.A,{variant:"textDark",size:"sm",onClick:()=>{return t=a.author.id,void e(`/admin/users/${t}`);var t},title:"View Author Profile",className:"text-sky-400 hover:text-sky-300",children:(0,h.jsx)(c.A,{name:"user"})}),(0,h.jsx)(n.A,{variant:"textDark",size:"sm",onClick:()=>alert(`Archive post ${a.id} (not implemented)`),title:"Archive Post",className:"text-orange-400 hover:text-orange-300",children:(0,h.jsx)(c.A,{name:"archive"})}),(0,h.jsx)(n.A,{variant:"textDark",size:"sm",onClick:()=>{return e=a.id,void(window.confirm("B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n xo\xe1 b\xe0i vi\u1ebft n\xe0y kh\xf4ng?")&&(v(!0),setTimeout((()=>{const a=t.filter((t=>t.id!==e));s(a),j(a),v(!1)}),500)));var e},title:"Delete Post",className:"text-red-500 hover:text-red-400",children:(0,h.jsx)(c.A,{name:"trash"})})]})})]},a.id)))})]})})}),(()=>{if(F<=1)return null;const e=[];for(let t=1;t<=F;t++)e.push(t);return(0,h.jsx)("nav",{className:"mt-8 flex justify-center",children:(0,h.jsxs)("ul",{className:"inline-flex items-center -space-x-px",children:[(0,h.jsx)("li",{children:(0,h.jsxs)(n.A,{onClick:()=>R(D-1),disabled:1===D,variant:"outlineDark",className:"px-3 py-2 ml-0 leading-tight rounded-l-lg",children:[(0,h.jsx)(c.A,{name:"chevronLeft",className:"w-5 h-5"}),(0,h.jsx)("span",{className:"sr-only",children:"Previous"})]})}),e.map((e=>(0,h.jsx)("li",{children:(0,h.jsx)(n.A,{onClick:()=>R(e),variant:D===e?"solidDark":"outlineDark",className:"px-3 py-2 leading-tight",children:e})},e))),(0,h.jsx)("li",{children:(0,h.jsxs)(n.A,{onClick:()=>R(D+1),disabled:D===F,variant:"outlineDark",className:"px-3 py-2 leading-tight rounded-r-lg",children:[(0,h.jsx)("span",{className:"sr-only",children:"Next"}),(0,h.jsx)(c.A,{name:"chevronRight",className:"w-5 h-5"})]})})]})})})()]}),w&&C&&(0,h.jsx)(g,{isOpen:w,onClose:E,post:C,onUpdate:e=>{s((t=>t.map((t=>t.id===e.id?e:t)))),j((t=>t.map((t=>t.id===e.id?e:t)))),E()}})]})})}}}]);
//# sourceMappingURL=974.6862052d.chunk.js.map